I"Ø'<p>Over the past few weeks Iâ€™ve been chipping away at a little side-project I dreamt-up around 3am one morning. I wanted to make two Twitter bots who would play Connect Four against each other over and over again. I got the idea after I, human Sam, played an emoji-based game of Connect Four with the Twitter account for the Las Vegas Review Journal after the account tweeted this:</p>

<blockquote class="twitter-tweet" lang="en"><p lang="en" dir="ltr">|âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸|&#10;|âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸|&#10;|âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸|&#10;|âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸|&#10;|âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸âšªï¸|&#10;|âšªï¸âšªï¸âšªï¸ğŸ”µâšªï¸âšªï¸âšªï¸|&#10;&#10;Your turn.</p>&mdash; Las Vegas RJ (@reviewjournal) <a href="https://twitter.com/reviewjournal/status/622095012931596288">July 17, 2015</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<!-- more -->

<p>(Not to brag, but I eventually won against who I later learned is the Audience Development Director at the Las Vegas Review Journal, <a href="https://twitter.com/stephgrimes">Stephanie Grimes</a>.)</p>

<blockquote class="twitter-tweet" lang="en"><p lang="en" dir="ltr"><a href="https://twitter.com/reviewjournal">@reviewjournal</a> was fun! see you in the adAge/poynter story &#10;&#10;|âšªï¸âšªï¸âšªï¸ğŸ”´ğŸ”µâšªï¸âšªï¸|&#10;|âšªï¸âšªï¸âšªï¸ğŸ”µğŸ”´âšªï¸âšªï¸|&#10;|âšªï¸âšªï¸ğŸ”´ğŸ”´ğŸ”µâšªï¸âšªï¸|&#10;|âšªï¸âšªï¸ğŸ”µğŸ”´ğŸ”µâšªï¸âšªï¸|&#10;|âšªï¸ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µâšªï¸|&#10;|ğŸ”´ğŸ”µğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”µ|</p>&mdash; Sam Schlinkert (@sts10) <a href="https://twitter.com/sts10/status/622116122767265792">July 17, 2015</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>A week or two later I was remembering <a href="https://medium.com/message/the-internet-of-tweets-581cb63ece80">a Medium post by Anil Dash</a> on what Twitter could have been, specifically this section on smart devices communicating with each other via Twitter accounts:</p>

<blockquote>
  <p>Twitter enables connections between accounts. What exists today as a social network between people who follow and reply to each other could tomorrow expand to be an information network between devices that could follow and reply to each other. Telling your smart smoke detector not to set off the alarm when the smart toaster has said itâ€™s about to burn the toast is currently a task for only the most stalwart geeks. Thereâ€™s no reason that kind of connection couldnâ€™t be a new use for the â€œfollowâ€ button.</p>
</blockquote>

<p>And I thought, what if I could make two Twitter bots that played Connect Four over Twitter, using an emoji board as Stephanie and I did? Just to see what challenges presenting themselves.</p>

<p>The first task was to create a command line â€œbotâ€ that could play Connect Four against a human (me). This took longer than I expected, even in my beloved Ruby! I ended up using an object I called a <a href="https://github.com/sts10/connect_four/blob/master/lib/surface.rb">â€œsurfaceâ€</a>, which is meant to represent any given point on the board. (Note: I pushed this CLI human-vs-bot version to a git branch called <a href="https://github.com/sts10/connect_four/tree/no_twitter">no-twitter</a>.)</p>

<p>Then (in the <a href="https://github.com/sts10/connect_four">master branch</a>), I incorporated some basic Twitter publishing and threading (replying) functionality. And voila! <a href="https://twitter.com/schlinkbot/status/636348135695122432">A game of Connect Four</a> between two automated Twitter bots!</p>

<blockquote class="twitter-tweet" lang="en"><p lang="und" dir="ltr"><a href="https://twitter.com/kitty_1878">@kitty_1878</a>&#10;&#10;|âšªğŸ”µâšªâšªâšªâšªâšª|&#10;|âšªğŸ”´âšªâšªâšªâšªâšª|&#10;|âšªğŸ”µâšªâšªğŸ”µâšªâšª|&#10;|âšªğŸ”µâšªğŸ”´ğŸ”´âšªâšª|&#10;|âšªğŸ”µğŸ”µğŸ”´ğŸ”´ğŸ”µğŸ”´|&#10;|ğŸ”´ğŸ”´ğŸ”´ğŸ”µğŸ”´ğŸ”µğŸ”µ|</p>&mdash; Schlink Bot (@schlinkbot) <a href="https://twitter.com/schlinkbot/status/636348135695122432">August 26, 2015</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<h3 id="wait-where-is-this-how-do-i-see-it">Wait, Where Is This? How Do I See It?</h3>

<p>Just to spell it out, the two bots are currently <a href="https://twitter.com/schlinkbot/with_replies">@Schlinkbot</a> and <a href="https://twitter.com/kitty_1878/with_replies">@kitty_1878</a>. Note that since they only reply to each other, if you want to see the game being played in your timeline, you have to follow both of them.</p>

<p>And hereâ€™s the <a href="https://github.com/sts10/connect_four">GitHub repo</a>.</p>

<h3 id="big-caveat">Big Caveat</h3>

<p>So, the big caveat with this version is that the two bots arenâ€™t <em>actually</em> communicating back forth over Twitter. In other words the two bots arenâ€™t (yet) operating independently. Moves are traded from one bot to the other through the <code class="language-plaintext highlighter-rouge">game</code> object, rather than solely through tweets. However I designed the models with this ultimate goal in mind, and with a few more hours of development I think I can pretty easily get to this ultimate goal. For now I just wanted to share because it seems like, for now, that I got it to work.</p>

<h3 id="handling-emojis-in-ruby">Handling Emojis in Ruby</h3>

<p>Going into the project I knew one of the bigger challenges was going to be handling emojis. In what I hope will be a later version of the project, the two bots will only be in contact via Twitter (see â€œcaveatâ€ section above). In that version, the bots would need the ability to both â€œreadâ€ and â€œwriteâ€ these three circle emojisâ€“ the same ones that Stephanie chose for our initial human game.</p>

<p>Naturally there are a few Ruby gems designed to make handling emojis easier. After trying a few I found that <a href="https://github.com/mwunsch/rumoji">Rumoji</a> (<a href="https://rubygems.org/gems/rumoji/versions/0.4.1">Rubygems.org page</a>) fit my needs the best.</p>

<p>Since the current bots only write emojis, so far Iâ€™ve only used Rumojiâ€™s <code class="language-plaintext highlighter-rouge">decode</code> method, which converts the :colon: syntax into the actual emojis:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">tweet_board</span><span class="p">(</span><span class="n">game</span><span class="p">,</span> <span class="n">id_to_reply_to</span><span class="p">)</span>
  <span class="n">text_to_tweet</span> <span class="o">=</span> <span class="s2">"@</span><span class="si">#{</span><span class="vi">@opponent</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">"</span>
  <span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
  <span class="mi">6</span><span class="p">.</span><span class="nf">times</span> <span class="k">do</span> 
    <span class="n">text_to_tweet</span> <span class="o">=</span> <span class="n">text_to_tweet</span> <span class="o">+</span> <span class="s2">"|"</span>
    <span class="vi">@board</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">space</span><span class="o">|</span>
      <span class="k">if</span> <span class="n">space</span> <span class="o">==</span> <span class="mi">0</span>
        <span class="n">text_to_tweet</span> <span class="o">=</span> <span class="n">text_to_tweet</span> <span class="o">+</span> <span class="no">Rumoji</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="s2">":white_circle:"</span><span class="p">)</span>
      <span class="k">elsif</span> <span class="n">space</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="n">text_to_tweet</span> <span class="o">=</span> <span class="n">text_to_tweet</span> <span class="o">+</span> <span class="no">Rumoji</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="s2">":red_circle:"</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="n">text_to_tweet</span> <span class="o">=</span> <span class="n">text_to_tweet</span> <span class="o">+</span> <span class="no">Rumoji</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span><span class="s2">":large_blue_circle:"</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span>
    <span class="n">text_to_tweet</span> <span class="o">=</span> <span class="n">text_to_tweet</span> <span class="o">+</span> <span class="s2">"|</span><span class="se">\n</span><span class="s2">"</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
  <span class="k">end</span>
  <span class="nb">self</span><span class="p">.</span><span class="nf">tweet</span><span class="p">(</span><span class="n">text_to_tweet</span><span class="p">,</span> <span class="n">id_to_reply_to</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<p>When I get around to making the bots <em>read</em> emojis, I hope to use Rumojiâ€™s <code class="language-plaintext highlighter-rouge">encode</code> method, which takes a string containing actual emojis and converts them back to the :colon: syntax.</p>

<p>Hereâ€™s the example the gemâ€™s creator uses in <a href="https://github.com/mwunsch/rumoji">the GitHub repo</a>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">puts</span> <span class="no">Rumoji</span><span class="p">.</span><span class="nf">encode</span><span class="p">(</span><span class="s2">"Lack of cross-device emoji support makes me ğŸ˜­"</span><span class="p">)</span>

<span class="c1">#=&gt; Lack of cross-device emoji support makes me :sob:</span>
</code></pre></div></div>

:ET
I"˝]<p>For the last year and a half I‚Äôve been using both <a href="https://1password.com/">1Password</a> and <a href="http://keepassx.org/">KeePassX</a> to manage my passwords. I‚Äôve been storing most usernames and passwords using 1Password, since I can easily access it on my iPhone and I have the Chrome extension installed at home, making signing in that much easier. I use 1Password with Dropbox by purchasing the <a href="https://agilebits.com/store">license</a> rather than pay a regular fee to 1Password (I took some <a href="https://sts10.github.io/2015/09/29/1password-setup.html">brief  notes</a> when I set it up in 2015). This means that my password database lives on my Dropbox account (though it‚Äôs still actually lives on somebody else‚Äôs computer).</p>

<p>I use <a href="https://www.keepassx.org/">KeePassX</a> (though I‚Äôm flirting with moving to <a href="https://keepassxc.org/">KeePassXC</a>) for storing more important information that I‚Äôm too paranoid to trust to 1Password and Dropbox. Granted, this might not be <em>normal</em> but that‚Äôs where I‚Äôm at. I have one KeePass database at home for important personal information (banking, some back up codes, etc.) and another separate database at work for important work logins. I have both of these databases backed up on at least one of device, but I do this backup manually whenever I think to do it.</p>

<p>Disclaimer before we get into this: I‚Äôm a social media editor. I say this mostly to tell you that I‚Äôm <em>not</em> a security researcher or anything like that‚Äì just a normal internet user who‚Äôs comfortable on the command line, uses Neovim, and has written some shitty Ruby in the past.</p>

<p>If you‚Äôve never used a password manager before I‚Äôd strongly advise you read <a href="https://medium.com/@mshelton/password-managers-for-beginners-d1f49866f80f">this guide</a> from Martin Shelton (who is a user researcher!) first. And I‚Äôd advise you to use one!</p>

<h2 id="problems-with-my-current-setup">Problems with my current setup</h2>

<p>For the most part, I think I‚Äôve been handling my shit pretty well. Like, these problems aren‚Äôt that I‚Äôm leaking passwords everywhere or one of the services I‚Äôve been using was hacked (that I know of at least). But that said, given the sheer number of logins (74, not including work) I have to manage, multiple machines, the (hopeful) coming addition of Linux into the mix, and my distaste for Dropbox, I‚Äôve got some things to tackle.</p>

<ol>
  <li>
    <p><strong>1Password doesn‚Äôt work on Linux:</strong> I‚Äôm hoping to switch from Mac to Linux at home (likely <a href="https://system76.com/laptops/oryx">System76</a>). Unfortunately 1Password doesn‚Äôt work on Linux, and doesn‚Äôt look like it will anytime soon.</p>
  </li>
  <li>
    <p><strong>Logins stored in too many places and not automatically synced:</strong> Currently some of my logins live both in my 1Password database as well as one or both of the KeePass databases. While this makes accessing these logins easier, it also means that changing them is painstaking. I even have some logins that live in Dropbox and two KeePass databases‚Äì and sometimes only one of them has the correct, most recent password.</p>
  </li>
  <li>
    <p><strong>1Password + Dropbox installation is ‚Äúheavy‚Äù:</strong> I haven‚Äôt installed Dropbox on my work computer, as (a) I don‚Äôt want my other more personal Dropbox data on a work machine, (b) it‚Äôs kind of a ‚Äúheavy‚Äù install, as it adds my Dropbox folders to the computer‚Äôs Finder, would run synchronizations a lot of the time if not constantly, etc., and (c) it seems kind of unprofessional. This isn‚Äôt to mention that 1Password is yet another install. For these reasons I‚Äôm uncomfortable setting up 1Password + Dropbox on my work computer. Note that I currently can pull out my phone, open my 1Password app, look up a login, and either use it once or store it in my work KeePass database for regular use (but then I‚Äôve gone and created a duplicated and unsynced entry).</p>
  </li>
  <li>
    <p><strong>Don‚Äôt Trust 1Password + Dropbox (three reasons):</strong> Why don‚Äôt I just use 1Password for everything, including those logins and information I currently only store with KeePass? If I did that would solve problem #2. There are 3 reasons that I don‚Äôt do this (here‚Äôs where I get a little paranoid): (a) neither 1Password nor Dropbox is open source, meaning that critical security flaws and/or back doors <em>could</em> exist. (b) my (encrypted) password database is stored on Dropbox servers, which reside in the U.S. and I have no control over. And (c) 1Password requires a Chrome extension for auto-filling, which, from my understanding, introduces a lot more security vulnerabilities.</p>
  </li>
  <li>
    <p><strong>No way to easily sync KeePass databases:</strong> I could use Dropbox + 1Password less (or not at all) if I had a good way of keeping KeePass database(s) in sync across multiple devices.</p>
  </li>
</ol>

<p>I should probably outline a more formal threat model here, but to be honest I‚Äôm not sure how to do that, especially without revealing information that I wouldn‚Äôt want to be public.</p>

<h2 id="plan-a-lastpass">Plan A: LastPass</h2>

<p><a href="https://www.lastpass.com">LastPass</a>, a 1Password competitor, solves a lot of the problems mentioned above. It works on Linux, and its install, at least on Mac, can be pretty lightweight‚Äì I think one option is to <a href="https://medium.com/@mshelton/lastpass-for-beginners-e921f35d4114">just install a Chrome extension</a>, though there are also <a href="https://lastpass.com/misc_download2.php">two(?) apps for Mac</a>. I‚Äôm not sure if you can use LastPass + Dropbox, as opposed to their cloud servers, but even I could do that, I think I‚Äôd rather go all in with LastPass so I wouldn‚Äôt have to worry about Dropbox and it‚Äôs heavy install bringing my personal stuff on Dropbox onto every computer where I want to access my passwords.</p>

<p>There are a lot of pros here, including great iPhone access. Where this plans fails hard is problem #4. All of my eggs are in the LastPass basket on servers I don‚Äôt control (4B). LastPass, like 1Password, is closed source and thus unavailable to be reviewed by those outside of the company (fails 4A). LastPass also relies heavily on browser integration to auto-fill information, so it fails problem 4C as well. In fact LastPass had to <a href="https://www.engadget.com/2017/03/22/critical-exploits-found-in-lastpass-on-chrome-firefox/">patch some critical security flaws in March</a> that seem to have involved the browser extensions.</p>

<p>Pros: Simple, cross-platform, iPhone access. Can even access it on a friend‚Äôs computer without my iPhone. Cons: Everything is in a closed-source, browser integrated basket that lives on LastPass servers.</p>

<h2 id="plan-b-syncthing--keepassxc">Plan B: Syncthing + KeePassXC</h2>

<p>I‚Äôm not sure how many of these plans I want to write out, so let‚Äôs just cut to the front runner now. It‚Äôs broken into to two parts: a password manager and a syncing mechanism. We‚Äôll start with the password manager.</p>

<h3 id="the-password-manager-keepassxc">The Password Manager: KeePassXC</h3>

<p>I waved my hand over explaining what KeePassX/KeePassXC are up till this point. Now I‚Äôll need to be more specific. Let‚Äôs start with Martin Shelton‚Äôs description from his post, <a href="https://medium.com/@mshelton/keypass-for-beginners-dc8adfcdad54">‚ÄúKeePass for Beginners‚Äù</a>:</p>

<blockquote>
  <p>KeePass is a free and open source password manager. The official build of KeePass is for Windows. In practice, KeePass it isn‚Äôt really one application‚Äì‚Ää<strong>it‚Äôs more of an ecosystem of compatible software created by open source developers</strong> [bolding mine]. It‚Äôs got some great security options not seen elsewhere, and can be found on most platforms and browsers. KeePass isn‚Äôt quite as pretty as 1Password or LastPass and requires a bit more work, but it does its job well.</p>
</blockquote>

<p>This KeePass ecosystem has a lot of different parts‚Äì for example, Shelton points to both a Chrome extension and Firefox add-on that can be used with a KeePass database. As for desktop apps, Mac OS users have the choice between <a href="https://www.keepassx.org/">KeePassX</a> and now a newer ‚Äúfork‚Äù or version: <a href="https://keepassxc.org/">KeePassXC</a>. But what I like most about this KeePass ecosystem is that, at its simplest, the password databases that you create simply live as files on your computer and are very well encrypted.</p>

<p>This gives users a lot of choice. If you want to put that file on the cloud, that‚Äôs your call‚Äì it is pretty well encrypted. If you want to download a browser extension and give it access to that database, that‚Äôs your choice. But at its simplest it‚Äôs something that seems reasonably secure to me‚Äì a file on your computer locked pretty well behind a master password, and not sent anywhere that you don‚Äôt send it to.</p>

<h4 id="keepassxcs-auto-type-feature">KeePassXC‚Äôs Auto-Type Feature</h4>

<p><a href="https://keepassxc.org/">KeePassXC</a> is a newer desktop client for creating and editing KeePass databases. Like KeePassX, it works well on both Mac and Linux (problem 1). Crucially, KeePassXC brings an extra feature to Mac‚Äì Auto-Type.</p>

<p>It‚Äôs my understanding that Auto-Type brings most of the usefulness of the browser plugin-based auto-fill features that LastPass and 1Password offer, but without the security risk. Rather than integrate with the browser, Auto-Type is a function that (1) navigates to the last window you had open, the (2) types your username, hits tab, types your password, then hits enter. It‚Äôs just as if you‚Äôre typing it in yourself. (Thus it also works for applications outside of the browser as well.)</p>

<p>You can also change that pattern per account. So for example, when you log in to Google, you enter your email, then hit next, then enter your password, then hit submit again. I‚Äôve entered a custom ‚ÄúAuto-Type sequence‚Äù for Google, <code class="language-plaintext highlighter-rouge">{USERNAME}{ENTER}{DELAY 2500}{PASSWORD}</code>, so that KeePassXC waits 2500 milliseconds for the password prompt to appear. I also took off the last Enter command, just in case something went wrong with the Auto-Type. You can <a href="http://keepass.info/help/base/autotype.html#autoseq">read more about these Auto-Type and the Auto-Type ‚Äúsequences‚Äù on the KeePass website</a>.</p>

<p>One downside to Auto-Type compared to some browser auto-fill solutions is that Auto-Type doesn‚Äôt check the URL of the page you‚Äôre entering your credentials into, which a browser extension could. This increases your chance of entering your login into a fraudulent site.</p>

<p>As alluded to above, KeePassXC does support browser extensions via a protocol called KeePassHTTP, but KeePassXC devs have put a note on <a href="https://keepassxc.org/project">their project page</a> about how KeePassHTTP is ‚Äúnot a highly secure protocol‚Äù. KeePassHTTP comes turned off by default on KeePassXC and I intend to leave it that way and just use Auto-Type.</p>

<h3 id="the-synchronizer-syncthing">The Synchronizer: Syncthing</h3>

<p>One problem with KeePass on its own is that there‚Äôs no built-in way to synchronize your password database across multiple devices. Probably the simplest way to do this is to upload your KeePass database to a service like Dropbox or Google Drive, as Shelton suggests.</p>

<p>Now I could use Dropbox to synchronize my KeePass database. The downsides to this are that, as I‚Äôve mentioned, the Dropbox install feels a little obtrusive for my work machine. Plus I always forget how to specify <em>which</em> folders to sync with a given computer.</p>

<p>What if I could host my KeePass database on my own computers and never have it touch a cloud service but still have it be automatically kept in sync between any number of computers? That‚Äôs basically what <a href="https://syncthing.net/">Syncthing</a> does. I <a href="https://sts10.github.io/2017/05/24/getting-started-with-syncthing.html">wrote about it a few days ago</a>, but here‚Äôs their intro paragraph on their website:</p>

<blockquote>
  <p>Syncthing replaces proprietary sync and cloud services with something open, trustworthy and decentralized. Your data is your data alone and you deserve to choose where it is stored, if it is shared with some third party and how it‚Äôs transmitted over the Internet.</p>
</blockquote>

<p>You can read more about it on <a href="https://syncthing.net/">their website</a> or <a href="https://github.com/syncthing/syncthing">their GitHub page</a>. I did an decent job of detailing how I set it up for the first time in my <a href="https://sts10.github.io/2017/05/24/getting-started-with-syncthing.html">blog post</a>‚Äì they also have a helpful <a href="https://docs.syncthing.net/intro/getting-started.html">‚ÄúGetting Started‚Äù page</a>.</p>

<p>One cool aspect of Syncthing that I‚Äôll explain in a little detail is how new devices (computers) are added. Let‚Äôs say I have a new computer that I want to access a shared folder on. Rather than login with a Syncthing username and password, I must send a request to the other device via the other device‚Äôs ID. Then that device must accept the invitation to share.</p>

<p>The downside here is that I can‚Äôt share anything with a new device until I can access the new device and then access the old device again. This means I <strong>can not</strong> access my passwords at a friend‚Äôs computer while away from any of my computers, even if I have my iPhone (Syncthing has no iOS support that I know of). The upside is extra security, and no Syncthing password to remember.</p>

<p>Another benefit is that it‚Äôs very easy to select which folders get shared with what devices. i.e. if I want to share a folder of photos between computer A and B, computer C doesn‚Äôt have to ever know about those photos.</p>

<h3 id="how-id-implement-syncthing--keepassxc">How I‚Äôd implement Syncthing + KeePassXC</h3>

<p>On each computer I‚Äôd have a folder called something like ‚Äúsync‚Äù. One computer, an old MacBook Pro running Ubuntu 16.04, would have Syncthing running almost constantly, such that all changes made on other computers would always be synced to that old MacBook Pro‚Äì it‚Äôd effectively be my cloud. I‚Äôd likely set <a href="https://docs.syncthing.net/advanced/folder-ignoredelete.html">ignoreDelete</a> on and set up one of Syncthing‚Äôs <a href="https://docs.syncthing.net/users/versioning.html">file versioning options</a> on that old MacBook Pro, if not also on my normal home computer.</p>

<p>I‚Äôd then make a fresh KeePass database with a new six-word <a href="https://theintercept.com/2015/03/26/passphrases-can-memorize-attackers-cant-guess/">diceware</a> password (actually rolled with dice) that would also require a key file to open it. I‚Äôd benchmark the <a href="http://www.laurencegellert.com/2015/02/a-keepass-setting-that-might-save-your-online-identity/">transform rounds</a> to 1 second on one of my computers, ensuring it‚Äôs over 10 million. I‚Äôd copy the key file to all computers that I‚Äôd need to access the passwords via physical USB stick at setup time‚Äì they‚Äôd just live on the computers, but never be sent over Syncthing. I‚Äôd then put the KeePass database in the ‚Äúsync‚Äù folder (but not the key file).</p>

<p>Lastly, if at a particular computer I needed to save information that I felt was too sensitive to transmit over Syncthing, I‚Äôd create a second KeePass database with a separate passphrase (but likely no key file) that would just live on that particular computer.</p>

<h3 id="benefits-of-syncthing--keepassxc">Benefits of Syncthing + KeePassXC</h3>

<p>This combo knocks out a ton of issues. There‚Äôs no cloud storage and all of the components are open source. With KeePassXC I get to rely on the arguably safer Auto-Type feature. KeePassXC (as well as KeePassX) easily allows me to have two databases open at once ‚Äì one that‚Äôs synced with Syncthing and one that always lives on a given computer and never moves, for more sensitive information.</p>

<p>The Syncthing CLI (command line interface) + Web GUI installation option is pretty light. As an added bonus, this system gives me a safe way of syncing other types of files across my computers, without having to worry about monthly fees or size restrictions of a cloud service (one of my worries with 1Password + Dropbox was that a friend would share a ton of large files with me, maxing out my 100GB and thus preventing me from writing to my 1Password database).</p>

<h3 id="cons-of-syncthing--keepassxc">Cons of Syncthing + KeePassXC</h3>

<p>Obviously there‚Äôs more maintenance involved here than with LastPass. I have to keep the old MacBook Pro running Ubuntu running and up to date‚Äì both the operating system and Syncthing itself. Though keeping Syncthing up-to-date is super easy‚Äì it just does it on its own 24 hours after each stable release (see <a href="https://docs.syncthing.net/users/faq.html?#how-do-i-upgrade-syncthing">this Syncthing doc</a>).</p>

<p>There‚Äôs also no way to access my passwords from my iPhone. And even given a new/friend‚Äôs/public computer, I can‚Äôt easily get to my files, given Syncthing‚Äôs security model described above. I of course could put my KeePass database, key file, and a portable version of KeePassXC on a USB stick for travel, if I knew I‚Äôd need to access my passwords.</p>

<h2 id="plan-c-keepassxc--spideroak">Plan C: KeePassXC + SpiderOak</h2>

<p>When I asked about Syncthing and KeePass on Mastodon, <a href="https://octodon.social/@jalefkowit/2437931">one user responded by saying</a> that they used SpiderOak to sync his KeePass database across multiple devices. However <a href="https://mastodon.hasameli.com/users/munin/updates/6470">another user wrote</a>: ‚ÄúSpideroak is reputable and going to be better implemented than most homegrown solutions,‚Äù referring to Syncthing as homegrown (which it is in many ways!).</p>

<p><a href="https://spideroak.com/">Spideroak</a> is company that offers a product called <a href="https://spideroak.com/personal/spideroak-one">Spideroak One</a> that offers ‚Äúsecure, reliable backup to protect your most important files.‚Äù They advertise what sounds like a higher level of security than other cloud providers like Dropbox:</p>

<blockquote>
  <p>Because our software encrypts every piece of data before it ever leaves a computer, we never know the types or content of your files. Everything we store is encrypted end-to-end (at-rest and in-transit). You alone have sole ownership and complete control of the keys to unlock your data. We call this No Knowledge privacy.</p>
</blockquote>

<p>That ‚ÄúNo Knowledge‚Äù policy is explained more in-depth <a href="https://spideroak.com/manual/no-knowledge-explained">here</a>.</p>

<p>I should probably try the free trial, but my gut is that it‚Äôs going to be similar to Dropbox in that it‚Äôll have a heavy install. Also, I‚Äôm pretty sure Spideroak One is closed source.</p>

<p>Privacytools.io recommends other services for <a href="https://privacytoolsio.github.io/privacytools.io/#cloud">encrypted cloud storage</a>‚Äì currently Seafile and NextCloud. I also found <a href="https://tresorit.com/">Tresorit</a>, which says it‚Äôs ‚ÄúProtected by Swiss privacy laws‚Äù and claims to be zero-knowledge. It looks like it would run me about $125 per year for 100GB. I guess I could check those out. Privacytools also has a section on <a href="https://privacytoolsio.github.io/privacytools.io/#sync">Secure File Sync Software</a>, with other options besides Syncthing.</p>

<h2 id="plan-d-keepassxc--dropbox--mini-keepass">Plan D: KeePassXC + Dropbox + Mini KeePass</h2>

<p>We‚Äôve gone over the first two parts of this plan pretty heavily above. But I should note that if I were to put my KeePass database on Dropbox, there is one large advantage: I believe that I would be able to access it from my iPhone using <a href="https://itunes.apple.com/app/id451661808">MiniKeePass</a>. I‚Äôm not sure if the syncing is automatic or what.</p>

<p>Frankly Plan D here is pretty strong, except for the Dropbox middleman.</p>

<h2 id="plan-f-pass">Plan F: Pass</h2>

<p>Another solution would be to use <a href="https://www.passwordstore.org/">Pass: ‚ÄúThe Standard Unix Password Manager‚Äù</a>.</p>

<blockquote>
  <p>Password management should be simple and follow Unix philosophy. With <code class="language-plaintext highlighter-rouge">pass</code>, each password lives inside of a <code class="language-plaintext highlighter-rouge">gpg</code> encrypted file whose filename is the title of the website or resource that requires the password. These encrypted files may be organized into meaningful folder hierarchies, copied from computer to computer, and, in general, manipulated using standard command line file management utilities.</p>
</blockquote>

<p>I‚Äôd have to learn more about pass, but my understanding is that it‚Äôs a CLI that uses GPG to encrypt your passwords. It also uses Git, implying that it can be easily synchronized between multiple computers using a service like Github. I‚Äôm curious if people trust GPG enough to push this file to a public Github repo (does making it a private Github repo provide that much more security?).</p>

<p>I‚Äôd also have to look into easy ways of filling out forms in browsers as well as iOS apps (there‚Äôs <a href="https://www.passwordstore.org/#other">a list of compatible clients here</a>). One pro for Pass though is that I like the pacing of pulling and pushing that Git offers. For example, the every-60-seconds synchronization that Syncthing offers feels a bit overkill for this use case. I‚Äôm only one person! I can only be at one machine at a time really. And I don‚Äôt add or edit passwords that often.</p>

<h2 id="conclusion">Conclusion</h2>

<p>I‚Äôve written this out both in the hopes of gaining feedback from readers but also to work through some of these options for myself. I think Plan B is the best‚Äì and I know others use it. I‚Äôve also come up with a few other crazy plans involving BASH scripts that encrypt KeePass databases using the <code class="language-plaintext highlighter-rouge">gpg</code> CLI before either syncing with Syncthing or pushing to Github, but I won‚Äôt waste our time writing them out unless it comes to that.</p>

<p>So, some lingering questions, with a focus mostly on Plan B, which is the front runner in my mind:</p>

<ol>
  <li>Is a KeePass database encrypted well enough to survive being intercepted somehow, even if the key file isn‚Äôt intercepted? Or should I endeavor to put more encryption on it? Should that be PGP/GPG before it syncs, or should I rely on the synchronizing software to do some encryption (as SpiderOak promises it does)?</li>
  <li>How important is having access to my passwords on my iPhone or other computers?</li>
  <li>Assuming KeePassXC is the best password manager for me, is there a synchronization solution that suits me better than Syncthing that I just don‚Äôt know about or haven‚Äôt explored thoroughly enough?</li>
  <li>Are the benefits of using open source software strong enough to outweigh the well-paid security teams of companies like 1Password, LastPass, Dropbox, and Spideroak? In a way open source is all fun and games when we‚Äôre talking about text editors and web browsers and even social networks (what up, Mastodon); but my passwords hold the key to very important financial and work-related data. I understand the advantages of open source when it comes to security‚Äì it‚Äôs just a bit of a ‚Äúput your money where your mouth is‚Äù moment here.</li>
  <li>Did I totally just partially undermine the security of this plan by writing it out here in public? (jk, I‚Äôm trying to get some eyeballs to catch mistakes! Open source!)</li>
</ol>

:ET